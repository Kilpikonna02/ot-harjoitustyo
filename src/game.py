import pygame
import time
from level import Level
from gameloop import GameLoop
from eventque import EventQueue
from renderer import Renderer
from clock import Clock


LEVEL_MAP = [[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
             [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
             [0,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0],
             [0,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,0],
             [0,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0],
             [0,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,0],
             [0,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0],
             [0,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,0],
             [0,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0],
             [0,2,1,2,1,2,1,2,3,2,1,2,1,2,1,2,0],
             [0,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0],
             [0,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,0],
             [0,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0],
             [0,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,0],
             [0,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0],
             [0,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,0],
             [0,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0],
             [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]

START_SCREEN = [[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
             [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
             [0,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0],
             [0,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,0],
             [0,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0],
             [0,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,0],
             [0,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0],
             [0,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,0],
             [0,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0],
             [0,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,0],
             [0,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0],
             [0,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,0],
             [0,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0],
             [0,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,0],
             [0,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0],
             [0,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,0],
             [0,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0],
             [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]

CELL_SIZE = 50

pygame.init()

height = len(LEVEL_MAP)
width = len(LEVEL_MAP[0])
display_height = height * CELL_SIZE
display_width = width * CELL_SIZE
display = pygame.display.set_mode((display_width, display_height))


def main():

    pygame.display.set_caption("Snake")

    level = Level(LEVEL_MAP, CELL_SIZE)
    event_queue = EventQueue()
    renderer = Renderer(display, level)
    clock = Clock()
    game_loop = GameLoop(level, renderer, event_queue, clock, CELL_SIZE)
    
    game_loop.start()


if __name__ == "__main__":
    main()
